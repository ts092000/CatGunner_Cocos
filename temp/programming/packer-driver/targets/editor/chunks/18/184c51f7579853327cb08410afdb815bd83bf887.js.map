{"version":3,"sources":["file:///Users/ADMIN/Desktop/CatGunner_Github/CatGunner_Cocos/assets/Scripts/Game/SpikeController.ts"],"names":["_decorator","Component","Animation","ccclass","property","SpikeController","type","isPlayNormal","isPlayReverse","isHasSpike","start","update","dt","scheduleOnce","spikeAnim","defaultClip","clips","play"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,S,OAAAA,S;;;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;iCAGjBK,e,WADZF,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAAEJ;AAAP,OAAD,C,2BAFb,MACaG,eADb,SACqCJ,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA,eAIpCM,YAJoC,GAIZ,KAJY;AAAA,eAKpCC,aALoC,GAKX,KALW;AAAA,eAOpCC,UAPoC,GAOd,KAPc;AAAA;;AASjCC,QAAAA,KAAK,GAAS,CAEvB;;AAESC,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC/B,cAAI,KAAKL,YAAL,IAAqB,CAAC,KAAKC,aAA/B,EAA8C;AAC1C,iBAAKD,YAAL,GAAoB,KAApB;AACA,iBAAKM,YAAL,CAAkB,YAAU;AACxB,mBAAKL,aAAL,GAAqB,IAArB;AACH,aAFD,EAEG,CAFH;AAGA,iBAAKK,YAAL,CAAkB,YAAU;AACxB,mBAAKJ,UAAL,GAAkB,IAAlB;AACH,aAFD,EAEG,IAFH;AAGA,iBAAKK,SAAL,CAAeC,WAAf,GAA6B,KAAKD,SAAL,CAAeE,KAAf,CAAqB,CAArB,CAA7B;AACA,iBAAKF,SAAL,CAAeG,IAAf;AACH,WAVD,MAUO,IAAI,CAAC,KAAKV,YAAN,IAAsB,KAAKC,aAA/B,EAA8C;AACjD,iBAAKA,aAAL,GAAqB,KAArB;AACA,iBAAKK,YAAL,CAAkB,YAAU;AACxB,mBAAKN,YAAL,GAAoB,IAApB;AACH,aAFD,EAEG,CAFH;AAGA,iBAAKM,YAAL,CAAkB,YAAU;AACxB,mBAAKJ,UAAL,GAAkB,KAAlB;AACH,aAFD,EAEG,IAFH;AAGA,iBAAKK,SAAL,CAAeC,WAAf,GAA6B,KAAKD,SAAL,CAAeE,KAAf,CAAqB,CAArB,CAA7B;AACA,iBAAKF,SAAL,CAAeG,IAAf;AACH;AACJ;;AAnC0C,O","sourcesContent":["import { _decorator, Component, Node, Animation, AnimationClip } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SpikeController')\nexport class SpikeController extends Component {\n    @property({type: Animation})\n    public spikeAnim: Animation;\n\n    public isPlayNormal: boolean = false;\n    public isPlayReverse: boolean = false;\n\n    public isHasSpike: boolean = false;\n    \n    protected start(): void {\n        \n    }\n\n    protected update(dt: number): void {\n        if (this.isPlayNormal && !this.isPlayReverse) {\n            this.isPlayNormal = false;\n            this.scheduleOnce(function(){\n                this.isPlayReverse = true;\n            }, 3)\n            this.scheduleOnce(function(){\n                this.isHasSpike = true;\n            }, 0.53)\n            this.spikeAnim.defaultClip = this.spikeAnim.clips[0];\n            this.spikeAnim.play();\n        } else if (!this.isPlayNormal && this.isPlayReverse) {\n            this.isPlayReverse = false;\n            this.scheduleOnce(function(){\n                this.isPlayNormal = true;\n            }, 3)\n            this.scheduleOnce(function(){\n                this.isHasSpike = false;\n            }, 0.53)\n            this.spikeAnim.defaultClip = this.spikeAnim.clips[1];\n            this.spikeAnim.play();\n        }\n    }\n}\n\n\n"]}